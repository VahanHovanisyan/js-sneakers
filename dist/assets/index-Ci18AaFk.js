(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();const Ot=[],At=[],z=[],Tt=[],dt=[],K=[];async function $(t,e){var i;const n=await(await fetch(`https://my-project-87c87-default-rtdb.europe-west1.firebasedatabase.app/${t}.json`)).json();n&&((i=Object.entries(n))==null||i.forEach(([r,o])=>{e.push({id:o.id,key:r,title:o.title,titleSmall:o.titleSmall,price:o.price,imgUrl:o.imgUrl})}))}async function Rt(){const e=await(await fetch("https://my-project-87c87-default-rtdb.europe-west1.firebasedatabase.app/order.json")).json();e&&dt.push(...Object.values(e).flat()),e&&K.push(...Object.values(e))}async function xt(){const t=await Promise.all([$("items",Ot),$("favorite",At),$("cart",z),$("promotionProduct",Tt),Rt()]);return document.querySelector(".nav__icon-text_total-price").textContent=`${z.reduce((e,s)=>e+s.price,0)} руб.`,t}const Nt="modulepreload",Ht=function(t){return"/"+t},st={},q=function(e,s,n){let i=Promise.resolve();if(s&&s.length>0){const r=document.getElementsByTagName("link");i=Promise.all(s.map(o=>{if(o=Ht(o),o in st)return;st[o]=!0;const u=o.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(!!n)for(let _=r.length-1;_>=0;_--){const y=r[_];if(y.href===o&&(!u||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${d}`))return;const b=document.createElement("link");if(b.rel=u?"stylesheet":Nt,u||(b.as="script",b.crossOrigin=""),b.href=o,document.head.appendChild(b),u)return new Promise((_,y)=>{b.addEventListener("load",_),b.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(r=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r})};var Bt=/([:*])(\w+)/g,Ft="([^/]+)",Mt=/\*/g,It="?(?:.*)",jt=/\/\?/g,$t="/?([^/]+|)",qt="(?:/^|^)",Ut="";function ht(t){return t===void 0&&(t="/"),J()?location.pathname+location.search+location.hash:t}function m(t){return t.replace(/\/+$/,"").replace(/^\/+/,"")}function U(t){return typeof t=="string"}function Dt(t){return typeof t=="function"}function D(t){return t&&t.indexOf("#")>=0&&t.split("#").pop()||""}function Vt(t,e){return e.length===0||!t?null:t.slice(1,t.length).reduce(function(s,n,i){return s===null&&(s={}),s[e[i]]=decodeURIComponent(n),s},null)}function V(t){var e=m(t).split(/\?(.*)?$/);return[m(e[0]),e.slice(1).join("")]}function Y(t){for(var e={},s=t.split("&"),n=0;n<s.length;n++){var i=s[n].split("=");if(i[0]!==""){var r=decodeURIComponent(i[0]);e[r]?(Array.isArray(e[r])||(e[r]=[e[r]]),e[r].push(decodeURIComponent(i[1]||""))):e[r]=decodeURIComponent(i[1]||"")}}return e}function pt(t,e){var s=V(m(t.currentLocationPath)),n=s[0],i=s[1],r=i===""?null:Y(i),o=[],u;if(U(e.path)){if(u=qt+m(e.path).replace(Bt,function(_,y,L){return o.push(L),Ft}).replace(Mt,It).replace(jt,$t)+"$",m(e.path)===""&&m(n)==="")return{url:n,queryString:i,hashString:D(t.to),route:e,data:null,params:r}}else u=e.path;var d=new RegExp(u,Ut),g=n.match(d);if(g){var b=U(e.path)?Vt(g,o):g.groups?g.groups:g.slice(1);return{url:m(n.replace(new RegExp("^"+t.instance.root),"")),queryString:i,hashString:D(t.to),route:e,data:b,params:r}}return!1}function ft(){return!!(typeof window<"u"&&window.history&&window.history.pushState)}function B(t,e){return typeof t[e]>"u"||t[e]===!0}function Wt(t){if(!t)return{};var e=t.split(","),s={},n;return e.forEach(function(i){var r=i.split(":").map(function(o){return o.replace(/(^ +| +$)/g,"")});switch(r[0]){case"historyAPIMethod":s.historyAPIMethod=r[1];break;case"resolveOptionsStrategy":n||(n={}),n.strategy=r[1];break;case"resolveOptionsHash":n||(n={}),n.hash=r[1]==="true";break;case"updateBrowserURL":case"callHandler":case"updateState":case"force":s[r[0]]=r[1]==="true";break}}),n&&(s.resolveOptions=n),s}function J(){return typeof window<"u"}function Gt(t,e){return t===void 0&&(t=[]),e===void 0&&(e={}),t.filter(function(s){return s}).forEach(function(s){["before","after","already","leave"].forEach(function(n){s[n]&&(e[n]||(e[n]=[]),e[n].push(s[n]))})}),e}function P(t,e,s){var n=e||{},i=0;(function r(){if(!t[i]){s&&s(n);return}Array.isArray(t[i])?(t.splice.apply(t,[i,1].concat(t[i][0](n)?t[i][1]:t[i][2])),r()):t[i](n,function(o){typeof o>"u"||o===!0?(i+=1,r()):s&&s(n)})})()}P.if=function(t,e,s){return Array.isArray(e)||(e=[e]),Array.isArray(s)||(s=[s]),[t,e,s]};function it(t,e){typeof t.currentLocationPath>"u"&&(t.currentLocationPath=t.to=ht(t.instance.root)),t.currentLocationPath=t.instance._checkForAHash(t.currentLocationPath),e()}function W(t,e){for(var s=0;s<t.instance.routes.length;s++){var n=t.instance.routes[s],i=pt(t,n);if(i&&(t.matches||(t.matches=[]),t.matches.push(i),t.resolveOptions.strategy==="ONE")){e();return}}e()}function zt(t,e){t.navigateOptions&&(typeof t.navigateOptions.shouldResolve<"u"&&console.warn('"shouldResolve" is deprecated. Please check the documentation.'),typeof t.navigateOptions.silent<"u"&&console.warn('"silent" is deprecated. Please check the documentation.')),e()}function Kt(t,e){t.navigateOptions.force===!0?(t.instance._setCurrent([t.instance._pathToMatchObject(t.to)]),e(!1)):e()}var at=J(),Xt=ft();function Qt(t,e){if(B(t.navigateOptions,"updateBrowserURL")){var s=("/"+t.to).replace(/\/\//g,"/"),n=at&&t.resolveOptions&&t.resolveOptions.hash===!0;Xt?(history[t.navigateOptions.historyAPIMethod||"pushState"](t.navigateOptions.stateObj||{},t.navigateOptions.title||"",n?"#"+s:s),location&&location.hash&&(t.instance.__freezeListening=!0,setTimeout(function(){if(!n){var i=location.hash;location.hash="",location.hash=i}t.instance.__freezeListening=!1},1))):at&&(window.location.href=t.to)}e()}function gt(t,e){var s=t.instance;if(!s.lastResolved()){e();return}P(s.lastResolved().map(function(n){return function(i,r){if(!n.route.hooks||!n.route.hooks.leave){r();return}var o=!1,u=t.instance.matchLocation(n.route.path,t.currentLocationPath,!1);if(n.route.path!=="*")o=!u;else{var d=t.matches?t.matches.find(function(g){return n.route.path===g.route.path}):!1;o=!d}if(B(t.navigateOptions,"callHooks")&&o){P(n.route.hooks.leave.map(function(g){return function(b,_){return g(function(y){y===!1?t.instance.__markAsClean(t):_()},t.matches&&t.matches.length>0?t.matches.length===1?t.matches[0]:t.matches:void 0)}}).concat([function(){return r()}]));return}else r()}}),{},function(){return e()})}function Yt(t,e){t.match.route.hooks&&t.match.route.hooks.before&&B(t.navigateOptions,"callHooks")?P(t.match.route.hooks.before.map(function(s){return function(i,r){return s(function(o){o===!1?t.instance.__markAsClean(t):r()},t.match)}}).concat([function(){return e()}])):e()}function Jt(t,e){B(t.navigateOptions,"callHandler")&&t.match.route.handler(t.match),t.instance.updatePageLinks(),e()}function Zt(t,e){t.match.route.hooks&&t.match.route.hooks.after&&B(t.navigateOptions,"callHooks")&&t.match.route.hooks.after.forEach(function(s){return s(t.match)}),e()}function te(t,e){var s=t.instance.lastResolved();if(s&&s[0]&&s[0].route===t.match.route&&s[0].url===t.match.url&&s[0].queryString===t.match.queryString){s.forEach(function(n){n.route.hooks&&n.route.hooks.already&&B(t.navigateOptions,"callHooks")&&n.route.hooks.already.forEach(function(i){return i(t.match)})}),e(!1);return}e()}function ee(t,e){var s=t.instance._notFoundRoute;if(s){t.notFoundHandled=!0;var n=V(t.currentLocationPath),i=n[0],r=n[1],o=D(t.to);s.path=m(i);var u={url:s.path,queryString:r,hashString:o,data:null,route:s,params:r!==""?Y(r):null};t.matches=[u],t.match=u}e()}function ne(t,e){(!t.resolveOptions||t.resolveOptions.noMatchWarning===!1||typeof t.resolveOptions.noMatchWarning>"u")&&console.warn('Navigo: "'+t.currentLocationPath+`" didn't match any of the registered routes.`),e()}function se(t,e){t.instance._setCurrent(null),e()}function vt(t,e){B(t.navigateOptions,"updateState")&&t.instance._setCurrent(t.matches),e()}var mt=[te,Yt,Jt,Zt],rt=[gt,ee,P.if(function(t){var e=t.notFoundHandled;return e},mt.concat([vt]),[ne,se])];function X(){return X=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},X.apply(this,arguments)}function ot(t,e){var s=0;function n(){if(s===t.matches.length){vt(t,e);return}P(mt,X({},t,{match:t.matches[s]}),function(){s+=1,n()})}gt(t,n)}function G(t){t.instance.__markAsClean(t)}function Q(){return Q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Q.apply(this,arguments)}var ct="[data-navigo]";function ie(t,e){var s=e||{strategy:"ONE",hash:!1,noMatchWarning:!1,linksSelector:ct},n=this,i="/",r=null,o=[],u=!1,d,g=ft(),b=J();t?i=m(t):console.warn('Navigo requires a root path in its constructor. If not provided will use "/" as default.');function _(a){return a.indexOf("#")>=0&&(s.hash===!0?a=a.split("#")[1]||"/":a=a.split("#")[0]),a}function y(a){return m(i+"/"+m(a))}function L(a,c,h,v){return a=U(a)?y(a):a,{name:v||m(String(a)),path:a,handler:c,hooks:Gt(h)}}function R(a,c,h){var v=this;return typeof a=="object"&&!(a instanceof RegExp)?(Object.keys(a).forEach(function(p){if(typeof a[p]=="function")v.on(p,a[p]);else{var S=a[p],F=S.uses,Pt=S.as,Ct=S.hooks;o.push(L(p,F,[d,Ct],Pt))}}),this):(typeof a=="function"&&(h=c,c=a,a=i),o.push(L(a,c,[d,h])),this)}function x(a,c){if(n.__dirty){n.__waiting.push(function(){return n.resolve(a,c)});return}else n.__dirty=!0;a=a?m(i)+"/"+m(a):void 0;var h={instance:n,to:a,currentLocationPath:a,navigateOptions:{},resolveOptions:Q({},s,c)};return P([it,W,P.if(function(v){var p=v.matches;return p&&p.length>0},ot,rt)],h,G),h.matches?h.matches:!1}function C(a,c){if(n.__dirty){n.__waiting.push(function(){return n.navigate(a,c)});return}else n.__dirty=!0;a=m(i)+"/"+m(a);var h={instance:n,to:a,navigateOptions:c||{},resolveOptions:c&&c.resolveOptions?c.resolveOptions:s,currentLocationPath:_(a)};P([zt,Kt,W,P.if(function(v){var p=v.matches;return p&&p.length>0},ot,rt),Qt,G],h,G)}function k(a,c,h){var v=tt(a,c);return v!==null?(C(v.replace(new RegExp("^/?"+i),""),h),!0):!1}function M(a){return this.routes=o=o.filter(function(c){return U(a)?m(c.path)!==m(a):Dt(a)?a!==c.handler:String(c.path)!==String(a)}),this}function f(){g&&(this.__popstateListener=function(){n.__freezeListening||x()},window.addEventListener("popstate",this.__popstateListener))}function E(){this.routes=o=[],g&&window.removeEventListener("popstate",this.__popstateListener),this.destroyed=u=!0}function I(a,c){return n._notFoundRoute=L("*",a,[d,c],"__NOT_FOUND__"),this}function N(){if(b)return H().forEach(function(a){if(a.getAttribute("data-navigo")==="false"||a.getAttribute("target")==="_blank"){a.hasListenerAttached&&a.removeEventListener("click",a.navigoHandler);return}a.hasListenerAttached||(a.hasListenerAttached=!0,a.navigoHandler=function(c){if((c.ctrlKey||c.metaKey)&&c.target.tagName.toLowerCase()==="a")return!1;var h=a.getAttribute("href");if(typeof h>"u"||h===null)return!1;if(h.match(/^(http|https)/)&&typeof URL<"u")try{var v=new URL(h);h=v.pathname+v.search}catch{}var p=Wt(a.getAttribute("data-navigo-options"));u||(c.preventDefault(),c.stopPropagation(),n.navigate(m(h),p))},a.addEventListener("click",a.navigoHandler))}),n}function H(){return b?[].slice.call(document.querySelectorAll(s.linksSelector||ct)):[]}function _t(a){return"/"+i+"/"+m(a)}function bt(a){return d=a,this}function yt(){return r}function tt(a,c,h){var v=o.find(function(F){return F.name===a}),p=null;if(v){if(p=v.path,c)for(var S in c)p=p.replace(":"+S,c[S]);p=p.match(/^\//)?p:"/"+p}return p&&h&&!h.includeRoot&&(p=p.replace(new RegExp("^/"+i),"")),p}function wt(a){return a.getAttribute("href")}function et(a){var c=V(m(a)),h=c[0],v=c[1],p=v===""?null:Y(v),S=D(a),F=L(h,function(){},[d],h);return{url:h,queryString:v,hashString:S,route:F,data:null,params:p}}function Lt(){return et(m(ht(i)).replace(new RegExp("^"+i),""))}function kt(a){var c={instance:n,currentLocationPath:a,to:a,navigateOptions:{},resolveOptions:s};return W(c,function(){}),c.matches?c.matches:!1}function Et(a,c,h){typeof c<"u"&&(typeof h>"u"||h)&&(c=y(c));var v={instance:n,to:c,currentLocationPath:c};it(v,function(){}),typeof a=="string"&&(a=typeof h>"u"||h?y(a):a);var p=pt(v,{name:String(a),path:a,handler:function(){},hooks:{}});return p||!1}function j(a,c,h){return typeof c=="string"&&(c=nt(c)),c?(c.hooks[a]||(c.hooks[a]=[]),c.hooks[a].push(h),function(){c.hooks[a]=c.hooks[a].filter(function(v){return v!==h})}):(console.warn("Route doesn't exists: "+c),function(){})}function nt(a){return typeof a=="string"?o.find(function(c){return c.name===y(a)}):o.find(function(c){return c.handler===a})}function St(a){a.instance.__dirty=!1,a.instance.__waiting.length>0&&a.instance.__waiting.shift()()}this.root=i,this.routes=o,this.destroyed=u,this.current=r,this.__freezeListening=!1,this.__waiting=[],this.__dirty=!1,this.__markAsClean=St,this.on=R,this.off=M,this.resolve=x,this.navigate=C,this.navigateByName=k,this.destroy=E,this.notFound=I,this.updatePageLinks=N,this.link=_t,this.hooks=bt,this.extractGETParameters=function(a){return V(_(a))},this.lastResolved=yt,this.generate=tt,this.getLinkPath=wt,this.match=kt,this.matchLocation=Et,this.getCurrentLocation=Lt,this.addBeforeHook=j.bind(this,"before"),this.addAfterHook=j.bind(this,"after"),this.addAlreadyHook=j.bind(this,"already"),this.addLeaveHook=j.bind(this,"leave"),this.getRoute=nt,this._pathToMatchObject=et,this._clean=m,this._checkForAHash=_,this._setCurrent=function(a){return r=n.current=a},f.call(this),N.call(this)}const ae="_main_6qhty_1",re={main:ae};function l(t){const e={tag:"div",classList:[],attributes:{},params:{},parent:null},{tag:s,classList:n,attributes:i,params:r,parent:o}=Object.assign(e,t),u=document.createElement(s);return u.className=n.join(" "),Object.assign(u,r),Object.entries(i).forEach(([d,g])=>u.setAttribute(d,g)),o!==null&&o.append(u),u}function oe(){const t=l({tag:"main",classList:[re.main]});return setTimeout(()=>{Z.append(t)},0),t}const T=new ie("/"),O=oe();function ce(){T.on("/",async()=>{O.innerHTML="";const e=(await q(()=>import("./index-B8WIKZ0H.js"),__vite__mapDeps([0,1,2,3]))).getMainPage();O.append(e)}),T.on("/favorite",async()=>{O.innerHTML="";const e=(await q(()=>import("./index-oB98Al_s.js"),__vite__mapDeps([4,1,2]))).getFavoritePage();O.append(e)}),T.on("/profile",async()=>{O.innerHTML="";const e=(await q(()=>import("./index-DAkwIwVu.js"),__vite__mapDeps([5,1,2]))).getProfilePage();O.append(e)}),T.notFound(async()=>{O.innerHTML="";const e=(await q(()=>import("./index-CtelGdfv.js"),__vite__mapDeps([]))).getNotFoundPage();O.append(e)}),T.resolve()}const le="_img_jodyg_1",ue="_item_jodyg_6",de="_title_jodyg_13",he="_textBox_jodyg_18",pe="_priceNumber_jodyg_23",fe="_itemIcon_jodyg_29",A={img:le,item:ue,title:de,textBox:he,priceNumber:pe,itemIcon:fe};function ge(t){const s=Object.assign({id:"",title:"",price:"",imgUrl:"",onRemoveCartItem(){}},t),n=l({tag:"article",classList:[A.cartItem,"flexVCenter"]});l({tag:"a",classList:[A.cartLink],params:{href:"#"},parent:n}),l({tag:"img",classList:[A.img],params:{src:s.imgUrl,alt:s.title,width:70,height:70},parent:n});const i=l({tag:"div",classList:[A.textBox],parent:n});l({tag:"h3",classList:[A.title],params:{textContent:s.title},parent:i}),l({tag:"span",classList:[A.priceNumber],params:{textContent:s.price},parent:i});const r=l({tag:"button",classList:[A.itemBtn,"buttonReset"],params:{onclick:()=>{s.onRemoveCartItem(),n.remove()}},parent:n}),o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.classList.add(A.itemIcon);const u=document.createElementNS("http://www.w3.org/2000/svg","use");return u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","img/svg/sprite.svg#cartIconRemove"),o.appendChild(u),r.appendChild(o),n}const ve="_aside_o3rpb_1",me="_top_o3rpb_16",_e="_btn_o3rpb_20",be="_asideTitle_o3rpb_25",ye="_itemCatalog_o3rpb_31",we="_itemIcon_o3rpb_36",Le="_checkout_o3rpb_46",ke="_checkoutTextBox_o3rpb_53",Ee="_checkoutTotalPrice_o3rpb_66",Se="_checkoutTaxPrice_o3rpb_67",Pe="_checkoutBtn_o3rpb_71",Ce="_checkoutBtnIcon_o3rpb_75",Oe="_cartEmpty_o3rpb_85",Ae="_cartEmptyImg_o3rpb_93",w={aside:ve,top:me,btn:_e,asideTitle:be,itemCatalog:ye,itemIcon:we,checkout:Le,checkoutTextBox:ke,checkoutTotalPrice:Ee,checkoutTaxPrice:Se,checkoutBtn:Pe,checkoutBtnIcon:Ce,cartEmpty:Oe,cartEmptyImg:Ae},Te="_cartEmpty_qe2pb_1",Re="_cartEmptyImg_qe2pb_9",lt={cartEmpty:Te,cartEmptyImg:Re};function ut({imgUrl:t,title:e,description:s,closeInfo:n=()=>{}}={}){return l({tag:"div",classList:[lt.cartEmpty],params:{onclick:r=>{r.target.closest(".infoButton")&&n()},innerHTML:`
      <img class=${lt.cartEmptyImg} src="${t}" alt="cart-empty" width="100">
      <h3 class="infoTitle">${e}</h3>
      <p class="infoText">
        ${s}
      </p>
      <button class="infoButton btn ">
        <svg class="infoButtonIcon btnIcon">
          <use xlink:href="img/svg/sprite.svg#checkoutBtnArrow"></use>
        </svg>
        Вернуться назад
      </button>
    `}})}function xe(t,e){const s=l({tag:"div",classList:["overlay"],params:{onclick(){i()}},parent:Z}),n=l({tag:"aside",classList:[w.aside],params:{onclick(f){f.stopPropagation()}},parent:s});setTimeout(()=>{n.style.right=0},0);const i=()=>{n.style.right="-100%",setTimeout(()=>{s.remove()},300)},r=l({tag:"div",classList:[w.top,"flexVCenter"],parent:n});l({tag:"h2",classList:[w.asideTitle],params:{textContent:"Basket"},parent:r});const o=l({tag:"button",classList:[w.btn,"buttonReset"],params:{onclick:()=>{i()}},parent:r}),u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.classList.add(w.itemIcon);const d=document.createElementNS("http://www.w3.org/2000/svg","use");d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","img/svg/sprite.svg#cartIconRemove"),u.appendChild(d),o.appendChild(u);const g=ut({imgUrl:"img/cartEmpty.png",title:"Корзина пустая",description:"Добавьте хотя бы одну пару кроссовок, чтобы сделать заказ.",closeInfo:()=>{i()}});t.length===0&&n.append(g);const b=l({tag:"div",classList:[w.itemCatalog],parent:t.length>0?n:null});t.forEach(f=>{b.append(ge({id:f.id,imgUrl:f.imgUrl,title:f.title,titleSmall:f.titleSmall,price:f.price,onRemoveCartItem:()=>{var I;L.textContent=`${Math.abs(t.reduce((N,H)=>N-H.price,f.price))} руб.`,x.textContent=`${Math.round(t.reduce((N,H)=>H.price/100*5,0))} руб.`,document.querySelector(".nav__icon-text_total-price").textContent=`${Math.abs(t.reduce((N,H)=>N-H.price,f.price))} руб.`,(I=document.querySelector(`[data-card="${f.id}"]`))==null||I.querySelectorAll("use")[1].setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","img/svg/sprite.svg#cardUnChecked");let E=t.indexOf(f);t.splice(E,1),fetch(`https://my-project-87c87-default-rtdb.europe-west1.firebasedatabase.app/cart/${f.key}.json`,{method:"DELETE"}),t.length===0&&(n.append(g),b.remove(),_.remove())}}))});const _=l({tag:"div",classList:[w.checkout],parent:t.length>0?n:null}),y=l({tag:"div",classList:[w.checkoutTextBox],parent:_});l({tag:"span",classList:[w.checkoutTotalText],params:{textContent:"Total:"},parent:y});const L=l({tag:"span",classList:[w.checkoutTotalPrice],params:{textContent:`${Math.abs(t.reduce((f,E)=>E.price+f,0))} руб.`},parent:y}),R=l({tag:"div",classList:[w.checkoutTextBox],parent:_});l({tag:"span",classList:[w.checkoutTaxText],params:{textContent:"Tax 5%:"},parent:R});const x=l({tag:"span",classList:[w.checkoutTaxPrice],params:{textContent:`${Math.round(t.reduce((f,E)=>E.price+f,0)/100*5)} руб.`},parent:R}),C=l({tag:"button",classList:[w.checkoutBtn,"btn","buttonReset"],params:{onclick:async()=>{(t==null?void 0:t.length)!==0&&(fetch("https://my-project-87c87-default-rtdb.europe-west1.firebasedatabase.app/cart.json").then(f=>f.json()).then(f=>fetch("https://my-project-87c87-default-rtdb.europe-west1.firebasedatabase.app/order.json",{method:"POST",body:JSON.stringify(Object.values(f)),headers:{"Content-Type":"application/json"}})).then(f=>f.json()).then(()=>{e.push(...t),K.push(t),setTimeout(()=>{t.splice(0,t.length)},0),fetch("https://my-project-87c87-default-rtdb.europe-west1.firebasedatabase.app/cart.json",{method:"DELETE"}),n.append(ut({imgUrl:"img/order.png",title:"Заказ оформлен",description:`Ваш заказ №${K.length} скоро будет передан курьерской службе`,closeInfo:()=>{i()}}))}),document.querySelector(".nav__icon-text_total-price").textContent="0 руб.",document.querySelectorAll("[data-card]").forEach(f=>{var E;return(E=f.querySelectorAll("use")[1])==null?void 0:E.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","img/svg/sprite.svg#cardUnChecked")}),b.remove(),_.remove())},textContent:"Checkout"},parent:_}),k=document.createElementNS("http://www.w3.org/2000/svg","svg");k.classList.add(w.checkoutBtnIcon),k.classList.add("btnIcon"),C.appendChild(k);const M=document.createElementNS("http://www.w3.org/2000/svg","use");return M.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","img/svg/sprite.svg#checkoutBtnArrow"),k.appendChild(M),{overlay:s,checkoutButton:C}}function Ne(){const t=l({tag:"span",classList:["nav__icon-text nav__icon-text_total-price"],params:{textContent:" руб."}}),e=l({tag:"nav",classList:["nav"],attributes:{"data-burger-nav":""}}),s=l({tag:"ul",classList:["nav__list"],parent:e}),n=l({tag:"li",classList:["nav__item"],attributes:{"data-burger-nav-item":""},parent:s}),i=l({tag:"li",classList:["nav__item"],attributes:{"data-burger-nav-item":""},parent:s}),r=l({tag:"li",classList:["nav__item"],attributes:{"data-burger-nav-item":""},parent:s}),o=l({tag:"button",classList:["nav__link","buttonReset"],params:{onclick:()=>{xe(z,dt).overlay}},parent:n}),u=l({tag:"a",classList:["nav__link"],attributes:{href:"/favorite","data-navigo":""},parent:i});u.addEventListener("click",function(k){k.preventDefault(),T.navigate("/favorite")});const d=l({tag:"a",classList:["nav__link"],attributes:{href:"/profile","data-navigo":""},parent:r});d.addEventListener("click",function(k){k.preventDefault(),T.navigate("/profile")});const g=document.createElementNS("http://www.w3.org/2000/svg","svg");g.classList.add("nav__icon");const b=document.createElementNS("http://www.w3.org/2000/svg","svg");b.classList.add("nav__icon");const _=document.createElementNS("http://www.w3.org/2000/svg","svg");_.classList.add("nav__icon");const y=l({tag:"span",classList:["nav__icon-text"],params:{textContent:"Закладки"}}),L=l({tag:"span",classList:["nav__icon-text"],params:{textContent:"Профиль"}}),R=document.createElementNS("http://www.w3.org/2000/svg","use"),x=document.createElementNS("http://www.w3.org/2000/svg","use"),C=document.createElementNS("http://www.w3.org/2000/svg","use");return R.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","img/svg/sprite.svg#cart"),x.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","img/svg/sprite.svg#favorite-nav"),C.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","img/svg/sprite.svg#profile"),g.append(R),b.append(x),_.append(C),o.append(g,t),u.append(b,y),d.append(_,L),e}function He(){const t=l({tag:"a",classList:["logo"],attributes:{href:"/","data-navigo":""}});return t.addEventListener("click",function(e){e.preventDefault(),T.navigate("/")}),l({tag:"img",classList:["logo__img"],attributes:{src:"img/logo.png"},parent:t}),l({tag:"strong",classList:["logo__strong-text"],params:{textContent:"REACT SNEAKERS".toUpperCase()},parent:t}),l({tag:"span",classList:["logo__span-text"],params:{textContent:"Магазин лучших кроссовок"},parent:t}),t}class Be{constructor(e,s){var i,r,o,u;let n={marker:this.marker,dropdown:{click:this.click,hover:this.hover},fixed:{defaultValue:this.defaultValue,scrolling:this.scrolling},breakpoint:768,offsetSize:{maxHeight:"100vh",maxWidth:"100vw"},whichSide:{top:!0,bottom:this.bottom,left:this.left,right:this.right},position:{top:!0,bottom:this.bottom,left:this.left,right:this.right},speed:900,overlay:!1};this.options=Object.assign(n,s),this.header=document.querySelector(`[data-burger-header="${e}"]`),this.headerContainer=this.header.querySelector(".header__container"),this.nav=this.header.querySelector("[data-burger-nav]"),this.navList=(i=this.nav)==null?void 0:i.querySelector(".nav__list"),this.navItems=(r=this.nav)==null?void 0:r.querySelectorAll("[data-burger-nav-item]"),this.navSubItems=(o=this.navList)==null?void 0:o.querySelectorAll(".nav__sub-item"),this.burger=(u=this.header)==null?void 0:u.querySelector("[data-burger-btn]"),this.mediaQuery=window.matchMedia(`(min-width: ${this.options.breakpoint}px)`),this.elemsClassNameActive={nav:"nav_open",burger:"burger_active"},this.header.style.setProperty("--burger-speed",`${this.options.speed}ms`),this.documentEventKey=this.documentEventKey.bind(this),this.handleMediaChange=this.handleMediaChange.bind(this),this.mediaQuery.addEventListener("change",this.handleMediaChange),this.headerClick=this.headerHandle.bind(this),this.header.addEventListener("click",this.headerClick),(window.matchMedia("(pointer:coarse)").matches||this.options.dropdown.click&&!this.options.dropdown.hover)&&(this.drop=this.dropdownHandle.bind(this),this.navList.addEventListener("click",this.drop)),window.matchMedia("(pointer: fine) and (hover: hover)").matches&&this.options.dropdown.hover&&(this.dropdowns=this.navList.querySelectorAll(".dropdown"),this.dropdowns.forEach(d=>{d.classList.add("dropdown-hover")})),this.setWhichSide(!0),this.getFixed(),this.initMedia()}disableScroll(){const e=document==null?void 0:document.querySelectorAll("[data-fixed-block]"),s=window.scrollY,n=`${window.innerWidth-document.body.offsetWidth}px`;document.documentElement.style.scrollBehavior="auto",e.forEach(i=>{i.style.paddingRight=n}),document.body.style.paddingRight=n,document.body.classList.add("dis-scroll"),document.body.dataset.position=s,document.querySelector(".header").style.top=`${s}px`,document.body.style.top=`-${s}px`}enableScroll(){const e=document==null?void 0:document.querySelectorAll("[data-fixed-block]"),s=parseInt(document.body.dataset.position,10);e.forEach(n=>{n.style.paddingRight="0"}),document.body.style.paddingRight="0px",document.body.style.top="",document.querySelector(".header").style.top=0,document.body.classList.remove("dis-scroll"),window.scroll({top:s,left:0}),document.body.removeAttribute("data-position"),getComputedStyle(document.documentElement).scrollBehavior=="smooth"&&(document.documentElement.style.scrollBehavior="smooth")}navToggle(e){var s,n,i,r;this.header.classList.toggle("header_active",e),(s=this.burger)==null||s.classList.toggle(this.elemsClassNameActive.burger,e),(n=this.nav)==null||n.classList.toggle(this.elemsClassNameActive.nav,e),(i=this.burger)==null||i.setAttribute("aria-expanded",e.toString()),(r=this.burger)==null||r.setAttribute("aria-label",e?"Close menu":"Open menu")}navShow(){this.navToggle(!0),this.disableScroll(),document.body.addEventListener("keydown",this.documentEventKey),this.setWhichSide(!1),this.setPosition()}navHide(){this.navToggle(!1),this.enableScroll(),document.body.removeEventListener("keydown",this.documentEventKey),this.setWhichSide(!0),this.setPosition()}getOffsetSize(e){e?(this.nav.style.setProperty("--max-height",this.options.offsetSize.maxHeight),this.nav.style.setProperty("--max-width",this.options.offsetSize.maxWidth)):(this.nav.style.removeProperty("--max-height"),this.nav.style.removeProperty("--max-width"))}setWhichSide(e){const{top:s,bottom:n,right:i,left:r}=this.options.whichSide;s&&this.nav.style.setProperty("inset",` ${e?"-100%":0} 0 ${e?"100%":0} 0`),n&&this.nav.style.setProperty("inset",` ${e?"100%":0} 0 ${e?"-100%":0} 0`),r&&this.nav.style.setProperty("inset",`0 ${e?"100%":0} 0 ${e?"-100%":0}`),i&&this.nav.style.setProperty("inset",`0 ${e?"-100%":0} 0 ${e?"100%":0}`)}setPosition(){const{top:e,bottom:s,right:n,left:i}=this.options.position;e&&this.nav.style.setProperty("bottom","auto"),s&&this.nav.style.setProperty("top","auto"),i&&this.nav.style.setProperty("right","auto"),n&&this.nav.style.setProperty("left","auto")}getFixed(){const{scrolling:e,defaultValue:s}=this.options.fixed;s&&this.enableFixed(),e&&(window.scrollY>e?this.enableFixed():this.disableFixed(),window.onscroll=()=>window.scrollY>e?this.enableFixed():this.disableFixed())}enableFixed(){this.header.classList.add("header_fixed"),this.header.setAttribute("data-fixed-block",""),document.body.style.paddingTop=this.header.offsetHeight+"px"}disableFixed(){this.header.style.setProperty("padding-right","0"),this.header.classList.remove("header_fixed"),this.header.removeAttribute("data-fixed-block"),document.body.style.paddingTop=""}mobileVersion(){this.getOffsetSize(!0),this.getOverlay(!0),this.setPosition(),this.header.classList.remove("header_desctop"),this.headerContainer.append(this.burger),this.nav.classList.remove("nav_desctop"),this.burger.classList.contains(this.elemsClassNameActive.burger)&&this.nav.classList.contains(this.elemsClassNameActive.nav)&&this.disableScroll(),this.nav.style.paddingTop=this.nav.closest(".header").offsetHeight+"px",this.nav.setAttribute("data-fixed-block","")}desctopVersion(){var e;this.header.classList.add("header_desctop"),this.nav.classList.add("nav_desctop"),(e=this.burger)==null||e.remove(),this.nav.style.paddingTop="",this.enableScroll(),this.getOffsetSize(!1),this.getOverlay(!1)}initMedia(){this.mediaQuery.matches?this.desctopVersion():this.mobileVersion()}handleMediaChange(e){e.matches?this.desctopVersion():this.mobileVersion()}documentEventKey(e){e.key==="Escape"&&this.navHide()}getOverlay(e){var n,i,r,o;if(this.options.overlay)return;const s=document.createElement("div");s.classList.add("header__overlay"),this.headerContainer=(n=this.header)==null?void 0:n.querySelector(".header__container"),!e&&((r=(i=this.header)==null?void 0:i.querySelector(".header__overlay"))==null||r.remove()),e&&((o=this.headerContainer)==null||o.append(s))}dropdownHandle(e){if(!e.target.closest(".dropdown-button"))return;const s=e.target.closest(".dropdown").querySelector(".dropdown-list");n(s),e.target.closest(".dropdown").classList.toggle("dropdown-active"),e.target.classList.toggle("dropdown-button-active"),s.classList.toggle("dropdown-list-active");function n(r=null){const o=[];if(r){let d=r.parentNode;for(;d&&!d.classList.contains("nav__list");)d.nodeName==="UL"&&o.push(d),d=d.parentNode}document.querySelectorAll(".nav__list ul").forEach(d=>{if(d!=r&&!o.includes(d)){d.classList.remove("dropdown-list-active");const g=d.parentNode.querySelector(".dropdown-button");g&&!d.classList.contains("dropdown-list-active")&&(g.classList.remove("dropdown-button-active"),d.parentNode.classList.remove("dropdown-active"))}})}const i=r=>{r.target.closest(".nav__list")||(n(),document.removeEventListener("click",i))};document.addEventListener("click",i)}headerHandle(e){const s=e.target.closest(".nav__item"),n=e.target.closest(".nav__link");if(e.target.closest(".burger")&&(this.burger.classList.contains(this.elemsClassNameActive.burger)&&this.nav.classList.contains(this.elemsClassNameActive.nav)?this.navHide():this.navShow()),n){this.options.marker&&(this.navItems.forEach(o=>o.classList.remove("nav__item_active")),s.classList.add("nav__item_active"));const i=document.querySelectorAll(".dropdown-list");this.navList.querySelectorAll(".dropdown-button").forEach(o=>o.classList.remove("dropdown-button-active")),i.forEach(o=>o.classList.remove("dropdown-list-active")),this.navHide()}e.target.closest(".header__overlay")&&this.navHide()}}function Fe(){const t=l({tag:"header",classList:["header header_border"],attributes:{"data-burger-header":"header"},parent:Z}),e=l({tag:"div",classList:["container header__container"],parent:t});return l({tag:"button",classList:["burger"],attributes:{"data-burger-btn":""},parent:e,params:{innerHTML:` 
            <span class="burger__line burger__line_top"></span>
            <span class="burger__line burger__line_middle"></span>
            <span class="burger__line burger__line_bottom"></span>
        `}}),e.append(He()),e.append(Ne()),new Be("header"),t}const Z=document.getElementById("app");(async()=>(Fe(),await xt(),ce()))();export{z as a,l as c,At as f,Ot as i,dt as o,Tt as s};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-B8WIKZ0H.js","assets/index-Xl2DegO5.js","assets/index-Be-GlF84.css","assets/index-BhTPQqmr.css","assets/index-oB98Al_s.js","assets/index-DAkwIwVu.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
